<navNoLog></navNoLog>
<div class="container col-md-10">
  <div class="row">
    <div class="col-3">
      <br><br>
      <figure class="figure">
        <img [src]="project.img" class="w-100 rounded" alt="...">
        <figcaption class="figure-caption text-center">{{project.idType.nameType}}</figcaption>
      </figure>
    </div>
    <div class="col">
      <br><br>
      <h1>{{project.projectName}}</h1>
      <p>{{project.description}}</p>
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <small>{{project.nameCreator}}</small><br>
          <small>{{project.dateFinish}}</small>
        </div>
        <ng-template [ngIf]="isLike" [ngIfElse]="notLike">
          <ng-template [ngIf]="userExistAndNoLike" [ngIfElse]="VoteLike">
            {{userExistAndNoLike}}
            <ngb-rating [formControl]="ctrl" (click)="toggleLike()" style="color:#007bff" max="1">
              <ng-template let-fill="fill" let-index="index">
                <span class="star" [class.filled]="fill === 100" [class.bad]="index<3">&hearts;</span>
              </ng-template>
            </ngb-rating>
          </ng-template>
          <ng-template #VoteLike>
            <ng-template #t>
              <span style="color: #007bff; font-size: 20px; line-height: 0px;"> &hearts; </span>
              <small class="">{{project.likes}}</small>
            </ng-template>
            <ngb-rating [rate]="1" [starTemplate]="t" [readonly]="true"></ngb-rating>
          </ng-template>
        </ng-template>
        <ng-template #notLike>
          <ng-template [ngIf]="userExistAndNoVoted" [ngIfElse]="notVote">
            <ngb-rating [formControl]="ctrl" (click)="toggleStar()" style="color:#007bff" max="5"></ngb-rating>
          </ng-template>
          <ng-template #notVote>
            <ng-template #t let-fill="fill">
              <span class="star" [class.full]="fill === 100">
                <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
              </span>
            </ng-template>
            <ngb-rating [(rate)]="project.stars" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>
          </ng-template>
        </ng-template>
      </div>
      <div>
      </div>
    </div>
  </div>
</div>